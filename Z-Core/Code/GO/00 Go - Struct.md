2025012916:03
___
Date: 29-01-2025 | 16:03
Tags: #go #struct
mapofcontents: [[zero-links|OO Links]]
___
## Go Struct

#### –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –≤ Go: –ø–æ **—Å—Å—ã–ª–∫–µ** –∏–ª–∏ –ø–æ **–∑–Ω–∞—á–µ–Ω–∏—é**?

–í Go –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞–∫ **–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (`T`)**, —Ç–∞–∫ –∏ **–ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (`*T`)**. –í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç **—Ä–∞–∑–º–µ—Ä–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**, **–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç–∏** –¥–∞–Ω–Ω—ã—Ö –∏ **–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**.

---
### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (T)?

–ü–µ—Ä–µ–¥–∞—á–∞ **–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é** (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã) –∏–º–µ–µ—Ç —Å–º—ã—Å–ª, –µ—Å–ª–∏:  
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–±–æ–ª—å—à–∞—è** (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä `int`, `string`).  
- **–î–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è** –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞.  
- **–•–æ—Ç–∏—Ç–µ –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**.

---
### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (\*T)?

–ü–µ—Ä–µ–¥–∞—á–∞ **–ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é** (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è, –∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞) –Ω—É–∂–Ω–∞, –µ—Å–ª–∏:  
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ–ª—å—à–∞—è** (–º–Ω–æ–≥–æ –ø–æ–ª–µ–π, –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–ª–∞–π—Å—ã, –º–∞–ø—ã).  
- **–ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**.  
- **–•–æ—Ç–∏—Ç–µ –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–µ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è** (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è).

```go
package main

import "fmt"

type User struct {
    Name string
}

// –ú–µ—Ç–æ–¥ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é –Ω—É–∂–Ω–∞
func (u *User) SetName(newName string) {
    u.Name = newName
}

func main() {
    user := User{Name: "Alice"}
    user.SetName("Bob") // –ò–∑–º–µ–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
    fmt.Println(user.Name) // "Bob"
}
```

**–ü–æ—á–µ–º—É –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é?**
- `SetName` –∏–∑–º–µ–Ω—è–µ—Ç `User`, –∞ –Ω–µ –µ–≥–æ –∫–æ–ø–∏—é.
- –ë–µ–∑ —É–∫–∞–∑–∞—Ç–µ–ª—è –º–µ—Ç–æ–¥ –∏–∑–º–µ–Ω—è–ª –±—ã —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—É—é –∫–æ–ø–∏—é, –∞ –Ω–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç.

---
#### –¢–∞–±–ª–∏—Ü–∞: –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é vs. –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é

| –ü–æ–¥—Ö–æ–¥                  | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏...              | –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞                                  | –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏                             |
| ----------------------- | ---------------------------------- | --------------------------------------------- | -------------------------------------- |
| **–ü–æ –∑–Ω–∞—á–µ–Ω–∏—é (`T`)**   | –ú–∞–ª–µ–Ω—å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è), –ø—Ä–æ—Å—Ç–æ—Ç–∞ | –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä = –∑–∞—Ç—Ä–∞—Ç—ã |
| **–ü–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (`*T`)** | –ë–æ–ª—å—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω—É–∂–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è | –ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏, –±—ã—Å—Ç—Ä–µ–µ, –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å        | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞        |

---
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

üîπ **–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å (side effects).**  
üîπ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (`map`, `slice`, `chan`) –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø–æ —Å—Å—ã–ª–∫–µ**, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –Ω–∏—Ö —É–∫–∞–∑–∞—Ç–µ–ª—å –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω.  
üîπ **–ú–µ—Ç–æ–¥—ã, –Ω–µ –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ª—É—á—à–µ –ø–∏—Å–∞—Ç—å —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é.**

**–ü—Ä–∏–º–µ—Ä –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (–ª—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é)**
```go
type BigData struct {
    ID    int
    Name  string
    Data  [1024]byte // –ë–æ–ª—å—à–æ–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö
}

// –ü–µ—Ä–µ–¥–∞–µ–º –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è 1024 –±–∞–π—Ç–æ–≤
func (b *BigData) Process() {
    b.Data[0] = 1 // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
}
```

---
### –í—ã–≤–æ–¥

-  **–ú–∞–ª–µ–Ω—å–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (`T`)**  
-  **–ë–æ–ª—å—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ –∏–∑–º–µ–Ω—è–µ–º—ã–µ ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é (`*T`)**  
-  **–ú–µ—Ç–æ–¥—ã, –Ω–µ –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é**  
-  **–ú–µ—Ç–æ–¥—ã, –∏–∑–º–µ–Ω—è—é—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É ‚Üí –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é**

-  **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º!** 


-----
**Zero-Links**  (–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏) –õ–∏–Ω–∫–∏ - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
-

------
**Links** (–í–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏)
-
