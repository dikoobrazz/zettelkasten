2025022418:38
___
Date: 24-02-2025 | 18:38
Tags: #
mapofcontents: [[zero-links|OO Links]]
___
## Отличие Array от Slice

### **Разница между массивом (`array`) и срезом (`slice`) в Go**

|Характеристика|**Массив (`[N]T`)**|**Срез (`[]T`)**|
|---|---|---|
|**Размер**|Фиксированный (`[5]int`)|Динамический (`[]int`)|
|**Хранение данных**|Внутри самого массива|Указывает на часть массива|
|**Передача в функцию**|Передаётся **по значению** (копируется)|Передаётся **по ссылке** (модификации меняют базовый массив)|
|**Можно изменять размер?**|❌ Нет|✅ Да (`append()`)|
|**Можно создать пустой?**|❌ Нет (`[0]int` всё равно создаст массив)|✅ Да (`var s []int`)|

---
### Примеры

#### 1. Массив (`[N]T`)

- **Размер фиксирован**
- **Копируется при передаче в функцию**

```go
arr := [3]int{1, 2, 3}
fmt.Println(arr[1]) // 2
```

Если передать массив в функцию, создастся **копия**, а не ссылка:
```go
func changeArray(a [3]int) {
    a[0] = 100
}
arr := [3]int{1, 2, 3}
changeArray(arr)
fmt.Println(arr[0]) // 1 (остался неизменным!)
```

---
#### 2. Срез (`[]T`)

- **Гибкий размер**
- **Ссылается на базовый массив**

```go
s := []int{1, 2, 3}
s = append(s, 4) // Добавили элемент
fmt.Println(s)   // [1 2 3 4]
```

Если передать срез в функцию, он изменится:
```go
func changeSlice(s []int) {
    s[0] = 100
}
sl := []int{1, 2, 3}
changeSlice(sl)
fmt.Println(sl[0]) // 100 (изменился!)
```

---
### Вывод

✔ **Массив (`[N]T`)** – статический, передаётся **по значению**.  
✔ **Срез (`[]T`)** – динамический, передаётся **по ссылке** и может изменять размер (`append()`).

❗ В реальных проектах **массивы почти не используются**, а срезы – **основной инструмент работы с коллекциями** в Go.

---
### Где хранятся массив и срез в памяти?

В Go переменные могут храниться в **стеке** или **куче**, в зависимости от их использования.

| Тип                 | Где хранится?                                          | Что передаётся в функцию?                                      |
| ------------------- | ------------------------------------------------------ | -------------------------------------------------------------- |
| **Массив (`[N]T`)** | В **стеке**, если локальный (в куче, если `new([N]T)`) | **Копия массива**                                              |
| **Срез (`[]T`)**    | **Метаданные в стеке**, а данные в **куче**            | **Копия структуры `slice` (указатель на те же данные в куче)** |

**❗ Важно:**

- **Срезы всегда ссылаются на массив в памяти**, поэтому их передача не создаёт копию данных.
- **Массив передаётся по значению** (копируется).
- Если массив **большой**, лучше передавать `*[N]T` (указатель на массив) – тогда он будет как `slice`, но с фиксированным размером.

-----
**Zero-Links**  (Внутренние ссылки) Линки - ключевые слова
-

------
**Links** (Внешние ссылки)
-
