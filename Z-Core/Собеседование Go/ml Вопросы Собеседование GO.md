2025022415:34
___
Date: 24-02-2025 | 15:34
Tags: #go #собеседование #вопросы
mapofcontents: [[zero-links|OO Links]]
___
## GO - Собеседование

### Вопросы

- [[00 Отличие Go от других ЯП|Отличия GO от других языков]]
- [[00 Типизация|Расскажи про типизацию - статическая и динамическая типизация, строгая и слабая.]]
- [[00 Встроенные типы в Go|Какие есть встроенные типы в Go?]]
- [[00 Отличие Map от Slice|Чем мапа отличается от слайса?]]
- [[00 Отличие Array от Slice|Чем отличается массив и слайс?]]
- [[00 Как работает Slice|Как работает слайс? В чем отличие Array от Slice?]]
- [[00 Переполнение int|Что будет при переполнении int?]]
- [[00 Что такое defer|Что такое defer?]]
- [[00 Что такое map?|Что такое map?]]
- [[00 Что такое Slice|Что такое слайс?]]
- [[00 Реализация Set|Как в Go реализовать Set?]]
- [[00 Строки в Go|Как устроены строки в Go?]]
- [[00 Посчитать символы в строке|Как посчитать символы в строке?]]
- [[00 Сортировка массива по частоте|Как отсортировать массив по частоте встречаемости элементов?]]
- [[00 Сложить две строки в Go|Что будет если сложить две строки?]]
- [[00 Сложить две строки в Go|Как эффективно конкантенировать строки?]]
- [[00 Структуры данных|Какие знаешь структуры данных?]]
- [[00 Структуры данных|Что такое структуры данных в Go? Какие знаешь?]]
- [[00 Устройство Map в Go|Расскажи что такое мапа в Go? Кау устроена?]]
- [[00 Многопоточная работа с Map|Многопоточная работа с мапами. Как работать, какие есть проблемы и нюансы?]]
- [[00 Select в Go|Зачем нужен select в go?]]
- [[00 Сontext в Go|Зачем нужен context?]]
- [[00 Error в Go|Что такое error в Go и какие бывают?]]
- [[00 error group в Go|Работал ли с ErrorGroup?]]
- [[00 Что такое Interface|Что такое интерфейсы?]]
- [[ml Вопросы Собеседование GO|Что такое пустой интерфейс?]]
- [[00 NIL Interface|Когда интерфейс равен nil?]]
- [[00 Как работают интерфейсы в Go|Как работают интерфейсы в go?]]
- [[00 Как работают интерфейсы в Go|Чем представлен интерфейс в Go?]]
- [[00 Где хранить интерфейсы|Где хранить интерфейсы?]]
- [[00 http методы|Какие http методы бывают?]]
- TODO В чем отличия http/1 от http/2?
- [[00 Что такое ACID|Поясни что такое ACID?]]
- [[00 Что такое CQRS|Расскажи что такое CQRS?]]
- [[00 Запись и чтение в CQRS|Запись и чтение в CQRS]]
- [[00 Нормализация и денормализация БД|Нормализация и денормализация БД]]
- [[00 Reflection в Go|Что такое рефлексия и зачем она нужна?]]
- [[00 Репликация в базах данных|Зачем нужна репликация в базах данных?]]
- [[00 Синхронная и асинхронная репликация|Расскажи про синхронную и асинхронную репликацию в базах данных.]]
- [[00 Batching updates|Как забатчить кучу апдейтов в таблице?]]
- [[00 Индексы в базах данных|Зачем нужны индексы в базах данных?]]
- [[00 Индексы в BD - отрицательные эффекты|Какие есть отрицательные эффекты от индексов?]]
- [[00 Триггеры в BD|Когда использовать триггеры в бд?]]
- [[00 Тормозит запрос к базе. Explain и Explain Analyze|Что делать если тормозит запрос к базе? Explain и Explain Analyze, отличия.]]
- [[00 NOTIFY в postgreSQL|Что такое notify в postgresql?]]
- [[00 Составной индекс в BD|Есть составной индекс на поля юзера - first name и last name. Делаем запрос на last name. Сработает ли индекс?]] // нет
- [[00 Составной индекс в BD|Как работает составной индекс?]]
- [[00 Тормозит запрос к базе. Explain и Explain Analyze|Как диагностировать почему база медленная?]]
- Эффективно ли индексировать булевые поля в базе? // не эффективно нзкая селективность
- [[00 Вложенные транзакции в BD|Работал ли со вложенными транзакциями?]]
- [[00 Блокировки в BD|Расскажи про блокировки в базах данных.]]
- [[00 Уровни изоляции в базах данных|Уровни изоляции в базах данных]]
- [[00 GIN индекс в PostgreSQL|Что такое gin индекс?]]
- [[00 Читаем файл с конца|Как прочитать большой файл с конца?]]
- Чем отличается конкурентность от параллелелизма?
- Что такое горутины? Как используются?
- Расскажи про горутины.
- О чем ты думаешь когда создаешь горутину?
- Почему на Go можно запустить 100к горутин?
- Расскажи про примитивы синхронизации
- Что есть в пакете sync и для чего он нужен?
- Работал ли с sync.Pool? Что это такое?
- Что такое data race и race condition?
- Как переключается контекст между горутинами?
- Сколько можно запустить горутин?
- Как построить конвеер из горутин?
- Когда горутина может быть переключена на другую?
- Почему может зависнуть горутина?
- Как между собой общаются горутины?
- Какие сложности могут возникать при конкурентной обработке данных?
- Можно ли использовать несколько мьютексов в одной функции?
- Гарантируют ли мьютексы какой-то порядок вызова горутин? Например если три горутины ожидают анлока мьютекса - определен ли порядок какая выполнится?
- Расскажи про каналы. Что такое аксиомы каналов?
- Какие бывают каналы?
- Кто должен закрывать канал?
- Расскажи тонкости использования закрытых каналов.
- Как ретранслировать сообщение из канала в пять разных мест приложения?
- Приходилось ли отказываться от каналов?
- Что такое jsonb?
- Можно ли эффективно искать по jsonb?
- Что такое сага?
- Работал ли с паттерном Saga?
- Расскажи про паттерн сага?
- Виды саг и их реализация
- На каком протоколе работает grpc?
- Плюсы и минусы grpc
- Как работает обратная совместимость с grpc?
- Что можно поменять в контракте grpc чтобы ничего не сломалось?
- Что такое мета данные в grpc?
- В чем экономия данных с grpc?
- Есть ли опыт работы с kubernetes?
- Расскажи про свой опыт с kubernetes.
- Что использовал в redis?
- Какие команды редиса знаешь?
- Когда кеш использовать плохо?
- Что делает pprof?
- Какой есть опыт работы с pprof?
- Как долго происходит stop the world?
- Что такое graceful degradation?
- Как реализовать graceful shutdown?
- Какие пакеты использовал для тестирования?
- Опыт с языками с наследованием, в чем разница между наследованием и встраиванием?
- Расскажи про SOLID
- Можно ли на Go писать соблюдая принципы SOLID?
- Какими еще принципами пользуешься? KISS
- Что такое паттерн anti corruption layer?
- Что такое Inversion of control?
- Как включается garbage collector?
- По какому принципу работает garbage collector?
- Расскажи про микросервисы. В чем их плюсы и минусы?
- Что нужно помнить при создании микросервиса?
- High cohesion / low coupling в микросервисах. Что это такое, зачем нужно?
- Как уходить из монолита к микросервисам?
- Какие есть способы коммуникации в микросервисах?
- Чем отличается stateful и stateless в разработке микросервисов?
- Какие микросервисы легде масштабировать - stateless или stateful? Почему?
- Как делал микросервисы на последнем месте работы?
- Какую архитектуру использовал для микросервисов?
- Какие паттерны микросервисов знаешь?
- Как масштабировать систему где один клиент должен попадать на тот же инстанс?
- Как ограничить ручку API 10 тысяч раз в минуту?
- Что такое Chain of responsibility?
- Какие есть способы обхода деревьев?
- Что такое Apache Kafka? Зачем нужно?
- Что такое Apache Kafka и RabbitMQ. В чем отличия?
- Как в кафку загнать 100к сообщений в секунду?
- Зачем нужны партишены в кафке?
- Какие есть гарантии доставки в kafka?
- Что такое consumer lag в kafka?
- Что использовал для observability? (graphana, prometheus)
- Для чего могут использоваться ключи идемпотентности?
- Как сделать чтобы несколько микросервисов использовали оптимально одну базу?
- Что будет если выкатили баг в прод?
- Что такое согласованный деплой? Какие виды деплоя знаешь?
- Чем самым интересным занимался?
- Расскажи про свой опыт в Go
- Как относишься к тестам? Какие тесты использовал?
- Как проводишь тестирование?
- Что нужно тестировать в первую очередь в проекте?
- Какие технологии использовал на прошлом месте работы?
- Был ли опыт профилирования приложений?
- Сталкивался ли с утечками памяти?
- Какие есть способы по которым могут появиться утечки памяти? Как отследить?
- Как были устроены процессы на прошлом месте работы?
- Какие книжки читал в последнее время?
- Что раздражает в работе?
- На что обращаешь внимание при ревью кода?
- Как спроектирована архитектура на прошлом проекте?
- Как ставятся задачи?
- Scrum, Kanban
- Процессы в it компании - это и есть Agile Scrum Kanban.
	Agile:
	- Планирование спринта
	- релизные циклы по 2 недели
	- планнинг покер
	- груминг задач
	- ретры
	- дейлиспринт ревиею
- команда бэк, фронт, QA тестировщики, Team lead, PM 
- git flow -
- как велась документация (типа swagger) - 
- реализации полиморфизма - 
- принцыпы нормализации БД (6 шт, щсновные первые 3) - 
- для чего нужны индексы - 
- для чего нужна денормализация - 
- JOINы в БД - 
- explain, explain* в БД -
- для чего существует rebase в git (если он затирает историю) - 
- git - pool vs fetch в чём разница - 
- механизм cherry pick - 
- паттерны проектирования микросервисов - 
- что такое statless и statefull - 
- что такое statless и statefull в контексте микросервисов - 

### Тестовые задания

- Тестовое задание сокращатель ссылок [Google Drive](https://docs.google.com/document/d/1MyvuLON5YLCXjQXjy15BldndL0oaBs22RnjZ_ZMIRn0/edit?tab=t.0)
- Тестовое задание [Google Drive](https://docs.google.com/document/d/18HiyjzJH1A90tWDZpNTdv_GY_dT8Dmww0M4oD83eD1w/edit?pli=1&tab=t.0)
- Тестовое задание. Aviasales [Google Drive](https://docs.google.com/document/d/1gKlIZUeQRfTIX4GJv8bHjiEsXyosD2h8ztsUn9x0jpU/edit?tab=t.0)
- Нужно разработать микросервис для счетчиков статистики. Сервис должен уметь взаимодействовать с клиентом при помощи REST API или JSON RPC запросов. Также нужно реализовать валидацию входных данных. [Google Drive](https://docs.google.com/document/d/1IpToIj1VYEITPzrb-jjvGRn-XgwfYksiLRSOkX7p7jc/edit?tab=t.0)
- Задача - нужно написать сервис который по http будет работать как кеш. Ему можно закинуть пару ключ-значение и он его сохранит, также можно запросить значение по ключу - и если оно есть, должен отдать. Далее вопросы как его сделать многопоточным и быстрым.
- Нужно реализовать HTTP сервис для голосования. Например, для выбора самого популярного покемона.[Google Drive](https://docs.google.com/document/d/129xeMQxhGbK4YEQwzUJvjEuQnRTEdcVzCuxAvb9z3cU/edit?tab=t.0)

### Live Coding

1. Что выведется в результате исполнения кода? Как поправить?
```go
package main

import (
 "fmt"
)

type myError struct {
 code int
}

func (e myError) Error() string {
 return fmt.Sprintf("code: %d", e.code)
}

func run() error {
 var e *myError
 if false {
  e = &myError{code: 123}
 }
 return e
}

func main() {
 err := run()
 if err != nil {
  fmt.Println("failed to run, error: ", err)
 } else {
  fmt.Println("success")
 }
}
```
Какие еще ошибки бывают в go?

2. Есть схема базы данных ниже. Нужно вывести все города и сколько людей в них живут одним запросом
```sql
create table cities (
 id  serial primary key,
   name  text not null
);

insert into cities
 (name)
values
 ('Москва'),
 ('Санкт-Петербург'),
 ('Краснодар');

create table users (
 id  serial primary key,
   name  text not null,
  city_id int  not null references cities (id)
);

insert into users
 (name, city_id)
values
 ('Иван', 1),
 ('Анна', 1),
 ('Олег', 2);
```



1. Как распараллелить запросы из следующего кода чтобы они шли одновременно.
```go
package main

import (
 "fmt"
 "time"
)

const numRequests = 1000

var count int

func networkRequest() {
 time.Sleep(time.Millisecond)

 count++
}

func main() {
 defer timer()()

 for i := 0; i < numRequests; i++ {
  networkRequest()
 }
}

func timer() func() {
 start := time.Now()

 return func() {
  fmt.Printf("count %v took %v\n", count, time.Since(start))
 }
}
```

4. Задача на логику - есть кольцевой поезд, в каждом вагоне горит или не горит лампочка и есть выключатель. Надо понять сколько вагонов в поезде.
 
5. Вопрос:
	Вы хотите набрать строку s, состоящую из строчных латинских букв, в вашем любимом текстовом редакторе Notepad#. Notepad# поддерживает два типа операций: дописать любую букву в конец строки; скопировать непрерывную подстройку уже напечатанной строки и вставить эту подстроку в конец строки. Можно ли набрать строку s за число операций, меньшее длины строки? 
	
	canBeTypedFaster("tbank") => false 
	canBeTypedFaster("mama") => true
	canBeTypedFaster("aaa") => false (разобрать кейс)
	
	Складываем в множество каждую подстроку из двух элементов ("tb", "ba", "an" и др). На каждой итерации проверяем есть ли уже такая подстрока. Если уже есть, то возвращаем true
	Ответ:
	Складываем в множество каждую подстроку из двух элементов ("tb", "ba", "an" и др). На каждой итерации проверяем есть ли уже такая подстрока. Если уже есть, то возвращаем true
	О собеседование: Алгосы
	
	1: Хотим набрать строку s из строчных латинских букв в текстовом редакторе, который поддерживает два типа операций: дописать любую букву в конец; скопировать существующую подстроку и вставить ее в конец. Можно ли набрать s за число операций, меньшее длины строки? 
	"tbank" = false 
	"mama" = true
	"aaa" = false
	
	2: Есть массив из неотриц. чисел. Найти подмассив с макс суммой, в котором не более двух чисел. Вернуть сумму. 
	maxSum([1, 2]) = 3
	maxSum([10, 10, 3, 5, 5, 5]) == 23 (10, 10, 3)

6. Вопрос:
	Нужно вывести 10 цифр в консоль. Потом нужно сделать это параллельно. Потом это нужно сделать одновременно, но сохраняя порядок.
```go
package main

import (
 "fmt"
 "time"
)

func main() {

}

func printNumber(n int) {
 time.Sleep(time.Second)
 fmt.Println(n)
}
```

7. Что выведется в результате выполнения кода?\
```go
func main() {
	runtime.GOMAXPROCS(1)
	var wg sync.WaitGroup
	wg.Add(1)
	go func() {
		time.Sleep(time.Second * 2)
		fmt.Println("1")
		wg.Done()
	}()
	go func() {
		fmt.Println("2")
	}()
	wg.Wait()
	fmt.Println("3")
}  
```

8. Вопрос:
	У нас есть твиттер, пользователь заходит, видит твит что Месси забил сотый гол. Потом он обновляет ленту, а запись пропадает. Он сходил на другую реплику - там где этой записи еще нет. Как сделать чтобы пользователь всегда видел один фид?

9. Вопрос:
	Что выведется в результате исполнения кода?
```go
func main() { 
	a := 0
	defer fmt.Println(a) 
	defer func() {
		a++  
		fmt.Println(a)
	}()
}
```

10. Вопрос:
	Нужно задизайнить сервис, который ведет учет балансов и операций пополнения и снятия со счета. У него три grpc ручки - get balance, получить депозит и отправить деньги. Мы должны реализовать операции и записывать лог. Как бы с точки зрения схемы данных в базе данных приложение бы выглядело? Опиши логику приложения.

11. Почему по i, j ходить быстро а по j, i медленно?


-----
**Zero-Links**  (Внутренние ссылки) Линки - ключевые слова
-

------
**Links** (Внешние ссылки)
-
