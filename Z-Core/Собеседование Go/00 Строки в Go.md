2025022419:26
___
Date: 24-02-2025 | 19:26
Tags: #
mapofcontents: [[zero-links|OO Links]]
___
## Строки в Go

> В Go строки — это **неизменяемые (immutable) последовательности байтов**, которые представляют собой текст, закодированный в **UTF-8**.

### Основные особенности строк в Go:

1. **Неизменяемость**: Строки в Go являются неизменяемыми, т.е. после создания строки её содержимое нельзя изменить. Любая операция, которая модифицирует строку, на самом деле создаёт новую строку.
    
2. **UTF-8**: Строки в Go хранятся в **UTF-8** (который является совместимым с ASCII). Это означает, что каждый символ может занимать от 1 до 4 байт в зависимости от его кодировки.
    
3. **Реализация**: Строки представляют собой **срезы байтов** (`[]byte`), но с особой внутренней структурой, которая делает их неизменяемыми.

### Внутренняя структура строки:

Строки в Go реализуются как структура, которая состоит из:

- **Указателя на массив байтов**: указатель на начало данных в памяти.
- **Длины строки**: количество байтов в строке (не количество символов, а именно байтов).

**Пример структуры строки:**
```go
type string struct {
    Data *byte
    Len  int
}
```

**Пример:**
```go
package main

import "fmt"

func main() {
    s := "Hello, Go!" // строка

    // Доступ к байтам строки
    fmt.Println(s[0]) // 72 (ASCII код символа 'H')

    // Преобразование строки в срез байтов
    b := []byte(s)
    fmt.Println(b) // [72 101 108 108 111 44 32 71 111 33]

    // Преобразование обратно в строку
    str := string(b)
    fmt.Println(str) // Hello, Go!
}
```

### Особенности работы со строками:

1. **Константные строки**: поскольку строки неизменяемы, операции, такие как конкатенация или изменение, всегда создают новую строку.
```go
s1 := "Hello"
s2 := "World"
s3 := s1 + " " + s2 // создаётся новая строка
```

2. **Преобразование между строкой и срезом байтов**:

- **Строка в байты**: для работы с отдельными байтами строки можно преобразовать строку в срез байтов (`[]byte`).
- **Байты в строку**: из среза байтов можно снова создать строку
```go
s := "Hello"
b := []byte(s)
fmt.Println(b) // [72 101 108 108 111]

s2 := string(b)
fmt.Println(s2) // Hello
```

3. **Работа с символами**: Для работы с символами строки можно использовать **индексацию** (по байтам), но для корректной работы с многобайтовыми символами (например, символами 
	UTF-8) следует использовать `rune`:
```go
s := "Привет"
fmt.Println(s[0]) // 208 (байт первого символа)

for _, r := range s {
    fmt.Printf("%c ", r) // Выведет каждый символ как руну
}
```

### Почему строки неизменяемы?

1. **Безопасность многозадачности**: поскольку строки не изменяются, их можно безопасно использовать в многозадачных приложениях без дополнительных мер синхронизации.
2. **Производительность**: операции со строками не требуют блокировок и дополнительной логики для изменения состояния строки, что делает их производительными.

### Преимущества строк в Go:

- **Производительность**: строки представляют собой компактное представление текста в памяти.
- **Безопасность**: неизменяемость строк упрощает управление памятью и предотвращает возможные ошибки при работе с многозадачностью.
- **Удобство работы с UTF-8**: строки поддерживают UTF-8 из коробки, что упрощает работу с текстами на разных языках.

### Вывод:

Строки в Go — это неизменяемые последовательности байтов в кодировке UTF-8. Это делает их удобными для работы с текстовыми данными, при этом Go не предоставляет возможности изменять строки после их создания, что повышает безопасность и производительность при многозадачности.


-----
**Zero-Links**  (Внутренние ссылки) Линки - ключевые слова
-

------
**Links** (Внешние ссылки)
-
