2025030314:05
___
Date: 03-03-2025 | 14:05
Tags: #
mapofcontents: [[zero-links|OO Links]]
___
## Чем отличается конкурентность от параллелелизма

> **Конкурентность** (*concurrency*) и **параллелизм** (*parallelism*) — это два связанных, но разных понятия в программировании, которые часто путают. Они описывают, как задачи выполняются во времени и на оборудовании.

---
### Что такое конкурентность?
#### Определение

- **Конкурентность** — это способность программы **управлять несколькими задачами**, которые могут выполняться независимо друг от друга, но не обязательно одновременно.
- Это про **структуру** программы: как она разбита на логические единицы, которые могут пересекаться во времени.
#### Как работает?

- Задачи чередуются (interleaving) на одном процессоре/потоке через переключение контекста.
- ОС или runtime (например, Go scheduler) решает, когда и как переключаться между задачами.
#### Пример
  
- Вы готовите ужин: режете овощи, ставите воду кипятиться, проверяете духовку. Всё делаете вы один, переключаясь между задачами.
- В Go: горутины (goroutines) работают конкурентно на одном ядре.

---
### Что такое параллелизм?
#### Определение

- **Параллелизм** — это **одновременное выполнение** нескольких задач на разных процессорах или ядрах.
- Это про **физическое выполнение**: реальное использование нескольких ресурсов одновременно.
#### Как работает?

- Задачи распределяются по доступным ядрам/потокам оборудования.
- Требует многопроцессорной или многоядерной системы.
#### Пример

- Вы и ваш друг готовите ужин: вы режете овощи, а он варит суп — одновременно.
- В Go: горутины выполняются параллельно на разных ядрах с настройкой GOMAXPROCS.

---
### Ключевое различие

|Характеристика|Конкурентность|Параллелизм|
|---|---|---|
|**Смысл**|Управление задачами|Выполнение задач|
|**Время**|Чередование (interleaving)|Одновременно|
|**Ресурсы**|Может быть 1 ядро|Требует >1 ядра/процессоров|
|**Цель**|Логическая независимость задач|Ускорение за счет ресурсов|
|**Пример в Go**|Горутины на одном потоке|Горутины на разных ядрах|

---
### Контекст в Go
  
- **Конкурентность**: Go изначально спроектирован для конкурентности через **горутины** и **каналы**. Scheduler распределяет горутины по потокам (M:N модель), даже на одном ядре.  
    - `go func()` создает конкурентную задачу.
- **Параллелизм**: Достигается, если `GOMAXPROCS > 1` (по умолчанию равно числу ядер). Тогда горутины распределяются по ядрам.  
    - `runtime.GOMAXPROCS(n)` управляет этим.
#### Пример
  
- 1 ядро (`GOMAXPROCS=1`): Конкурентность — задачи A и B чередуются.
- 4 ядра (`GOMAXPROCS=4`): Параллелизм — задачи A и B могут идти одновременно на разных ядрах.
  
---
### Аналогия
  
- **Конкурентность**: Один повар жонглирует приготовлением супа и салата, переключаясь между ними.
- **Параллелизм**: Два повара готовят суп и салат одновременно.
  
---
### Когда что использовать?

- **Конкурентность**:  
    - Когда задачи логически независимы (например, обработка HTTP-запросов, ожидание I/O).
    - Не требует многопроцессорности.
- **Параллелизм**:  
    - Когда нужно ускорить вычисления (например, обработка больших данных, рендеринг).
    - Требует ресурсов оборудования.

---
### Итог

- **Конкурентность** — это про организацию задач, чтобы они могли пересекаться во времени (чередование).
- **Параллелизм** — это про одновременное выполнение задач на нескольких ядрах.

В Go конкурентность встроена через горутины, а параллелизм зависит от `GOMAXPROCS` и доступных ядер.


-----
**Zero-Links**  (Внутренние ссылки) Линки - ключевые слова
-

------
**Links** (Внешние ссылки)
-
