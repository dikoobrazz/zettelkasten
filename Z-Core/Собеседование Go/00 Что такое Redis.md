2025030621:50
___
Date: 06-03-2025 | 21:50
Tags: #
mapofcontents: [[zero-links|OO Links]]
___
## Redis

> **Redis** — это высокопроизводительное in-memory хранилище данных с открытым исходным кодом, которое работает как key-value база данных, но поддерживает сложные структуры данных и функции. Оно часто используется для кэширования, очередей и временного хранения данных.

### Что такое Redis?

Redis (Remote Dictionary Server) хранит данные в оперативной памяти, что обеспечивает очень быструю работу (миллионы операций в секунду). Поддерживает опциональную персистентность (RDB, AOF) для сохранения данных на диск.

### Что можно использовать?

Redis поддерживает разные типы данных и операции:

- **Strings**: Простые строки (ключи-значения).
- **Hashes**: Словарь с полями (аналог map).
- **Lists**: Упорядоченные списки (очереди).
- **Sets**: Неупорядоченные множества уникальных элементов.
- **Sorted Sets**: Множества с весами для сортировки.

### Как использовать?

1. **Кэширование**: Хранение часто запрашиваемых данных для ускорения доступа.
2. **Очереди**: Управление задачами через списки (например, producer-consumer).
3. **Сессии**: Сохранение данных сессий с TTL (временем жизни).
4. **Leaderboard**: Использование Sorted Sets для рейтингов.

### Пример кода с комментариями

##### Пример работы с Redis в Go с библиотекой github.com/go-redis/redis/v8:
```go
package main

import (
    "context"
    "fmt"
    "time"

    "github.com/go-redis/redis/v8"
)

func main() {
    // подключение к Redis
    client := redis.NewClient(&redis.Options{
        Addr: "localhost:6379", // адрес Redis-сервера
    })
    ctx := context.Background()

    // запись строки с TTL
    err := client.Set(ctx, "user:1", "Alice", 10*time.Second).Err()
    if err != nil {
        fmt.Println("Ошибка записи:", err)
        return
    }

    // чтение строки
    val, err := client.Get(ctx, "user:1").Result()
    if err != nil {
        fmt.Println("Ошибка чтения:", err)
        return
    }
    fmt.Println("Значение:", val) // Значение: Alice

    // добавление в список (очередь)
    err = client.LPush(ctx, "tasks", "task1").Err()
    if err != nil {
        fmt.Println("Ошибка добавления в список:", err)
        return
    }

    // извлечение из списка
    task, err := client.RPop(ctx, "tasks").Result()
    if err != nil {
        fmt.Println("Ошибка извлечения:", err)
        return
    }
    fmt.Println("Задача:", task) // Задача: task1
}
```

- **Комментарий**:
    - `Set` сохраняет строку с TTL 10 секунд.
    - `LPush` и `RPop` реализуют очередь (добавление слева, извлечение справа).

#### Итог

**Redis** — это быстрое in-memory хранилище для строк, списков, множеств и других структур. Его используют для кэширования, очередей и временных данных благодаря скорости и гибкости.

-----
**Zero-Links**  (Внутренние ссылки) Линки - ключевые слова
-

------
**Links** (Внешние ссылки)
-
